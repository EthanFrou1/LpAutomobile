@{
    Layout = "_EmailLayout";
    ViewBag.Title = Model.TypeDemande + " pour véhicule";
    ViewBag.EmailType = "vehicule";
    ViewBag.HeaderMessage = Model.TypeDemande == "Essai" ? "🔥 DEMANDE D'ESSAI" :
                           Model.TypeDemande == "Offre" ? "💰 OFFRE D'ACHAT" :
                           "❤️ INTÉRÊT POUR UN VÉHICULE";
}
@model LpAutomobile.Models.InteretVehiculeModel

<!-- Info véhicule -->
<div class="info-section" style="background: linear-gradient(135deg, #007bff, #0056b3); color: white; text-align: center;">
    <h2 style="color: white; margin-bottom: 15px;">🚙 Véhicule concerné</h2>
    <h3 style="color: white; margin-bottom: 10px;">@Model.VehiculeInfo</h3>
    <p style="color: white; margin-bottom: 5px;"><strong>Prix affiché :</strong> @Model.Prix.ToString("C0")</p>
    <p style="color: white; opacity: 0.8; margin: 0;"><small>ID véhicule : #@Model.VehiculeId</small></p>
</div>

@if (Model.TypeDemande == "Essai")
{
    <div class="urgent">
        ⚡ DEMANDE D'ESSAI - RÉPONSE RAPIDE RECOMMANDÉE ⚡
    </div>
}

@if (Model.TypeDemande == "Offre" && Model.OffrePrix.HasValue)
{
    <div class="highlight" style="text-align: center; background: #d4edda; border-color: #c3e6cb;">
        <strong>💰 OFFRE PROPOSÉE : @Model.OffrePrix.Value.ToString("C0")</strong><br>
        <small>Différence : @((Model.OffrePrix.Value - Model.Prix).ToString("C0"))</small>
    </div>
}

<!-- Info client -->
<div class="info-section">
    <h3>👤 Informations du client</h3>

    <span class="label">Nom complet :</span>
    <div class="value">@Model.Nom</div>

    <span class="label">📧 Email :</span>
    <div class="value">
        <a href="mailto:@Model.Email">@Model.Email</a>
    </div>

    @if (!string.IsNullOrEmpty(Model.Telephone))
    {
        <span class="label">📞 Téléphone :</span>
        <div class="value">
            <a href="tel:@Model.Telephone">@Model.Telephone</a>
        </div>
    }
</div>

<!-- Message -->
<div class="message-box vehicule">
    <span class="label">💬 Message du client :</span>
    <div style="margin-top: 15px; white-space: pre-line; line-height: 1.6;">@Model.Message</div>
</div>

<!-- Actions recommandées -->
<div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border: 1px solid #bbdefb;">
    <h4 style="margin-top: 0;">🎯 Actions recommandées :</h4>
    <ul style="margin-bottom: 0;">
        @if (Model.TypeDemande == "Essai")
        {
            <li><strong>Contacter dans les 2h</strong> pour programmer l'essai</li>
            <li>Vérifier la disponibilité du véhicule</li>
            <li>Préparer les documents nécessaires</li>
        }
        else if (Model.TypeDemande == "Offre")
        {
            <li><strong>Évaluer l'offre</strong> et répondre rapidement</li>
            <li>Négocier si nécessaire</li>
            <li>Préparer les documents de vente</li>
        }
        else
        {
            <li>Contacter le client pour plus d'informations</li>
            <li>Proposer une visite ou un essai</li>
            <li>Répondre aux questions éventuelles</li>
        }
        <li>Suivre cette piste jusqu'à la conclusion</li>
    </ul>
</div>